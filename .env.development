# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
DATABASE_URL="postgresql://postgres:password@localhost:5432/lms_dev?schema=public"
# Alternative format: postgresql://username:password@host:port/database_name

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================
NODE_ENV="development"
APP_NAME="LMS Platform"
APP_URL="http://localhost:5173"
API_URL="http://localhost:3000"
VITE_API_URL="http://localhost:8080/api"
PORT=3000

# ============================================================================
# AUTHENTICATION & SECURITY
# ============================================================================
# Generate strong secrets using: openssl rand -base64 32
JWT_SECRET="your-super-secret-jwt-key-change-this-in-production"
JWT_REFRESH_SECRET="your-refresh-token-secret-change-this-in-production"
JWT_EXPIRES_IN="15m"
JWT_REFRESH_EXPIRES_IN="7d"

# Session secret for cookie-based sessions
SESSION_SECRET="your-session-secret-change-this-in-production"

# Password hashing rounds (bcrypt)
BCRYPT_ROUNDS=10

# ============================================================================
# OAUTH PROVIDERS
# ============================================================================
# Google OAuth
GOOGLE_CLIENT_ID="your-google-client-id.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="your-google-client-secret"
GOOGLE_CALLBACK_URL="http://localhost:3000/auth/google/callback"

# Facebook OAuth
FACEBOOK_APP_ID="your-facebook-app-id"
FACEBOOK_APP_SECRET="your-facebook-app-secret"
FACEBOOK_CALLBACK_URL="http://localhost:3000/auth/facebook/callback"

# GitHub OAuth
GITHUB_CLIENT_ID="your-github-client-id"
GITHUB_CLIENT_SECRET="your-github-client-secret"
GITHUB_CALLBACK_URL="http://localhost:3000/auth/github/callback"

# ============================================================================
# EMAIL SERVICE
# ============================================================================
# SMTP Configuration (Gmail, SendGrid, Mailgun, etc.)
SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER="your-email@gmail.com"
SMTP_PASSWORD="your-app-password"
SMTP_FROM_NAME="LMS Platform"
SMTP_FROM_EMAIL="noreply@lms.com"

# Alternative: SendGrid API
SENDGRID_API_KEY="your-sendgrid-api-key"

# Alternative: Mailgun
MAILGUN_API_KEY="your-mailgun-api-key"
MAILGUN_DOMAIN="your-domain.mailgun.org"

# ============================================================================
# FILE STORAGE (AWS S3 or compatible)
# ============================================================================
# AWS S3
AWS_ACCESS_KEY_ID="your-aws-access-key"
AWS_SECRET_ACCESS_KEY="your-aws-secret-key"
AWS_REGION="ap-southeast-1"
AWS_S3_BUCKET="lms-uploads"
AWS_S3_PUBLIC_URL="https://your-bucket.s3.amazonaws.com"

# Alternative: Cloudflare R2, DigitalOcean Spaces, MinIO
STORAGE_PROVIDER="s3" # s3, r2, spaces, local
STORAGE_ENDPOINT="https://s3.amazonaws.com" # For S3-compatible services

# Local storage (for development)
UPLOAD_DIR="./uploads"
MAX_FILE_SIZE=10485760 # 10MB in bytes

# ============================================================================
# PAYMENT GATEWAYS (Vietnam)
# ============================================================================
# MoMo
MOMO_PARTNER_CODE="your-momo-partner-code"
MOMO_ACCESS_KEY="your-momo-access-key"
MOMO_SECRET_KEY="your-momo-secret-key"
MOMO_ENDPOINT="https://test-payment.momo.vn" # test or production
MOMO_RETURN_URL="http://localhost:5173/payment/momo/return"
MOMO_NOTIFY_URL="http://localhost:3000/api/payment/momo/notify"

# VNPay
VNPAY_TMN_CODE="your-vnpay-tmn-code"
VNPAY_HASH_SECRET="your-vnpay-hash-secret"
VNPAY_URL="https://sandbox.vnpayment.vn/paymentv2/vpcpay.html" # sandbox or production
VNPAY_RETURN_URL="http://localhost:5173/payment/vnpay/return"

# ZaloPay
ZALOPAY_APP_ID="your-zalopay-app-id"
ZALOPAY_KEY1="your-zalopay-key1"
ZALOPAY_KEY2="your-zalopay-key2"
ZALOPAY_ENDPOINT="https://sb-openapi.zalopay.vn/v2/create" # sandbox or production
ZALOPAY_CALLBACK_URL="http://localhost:3000/api/payment/zalopay/callback"

# PayPal
PAYPAL_CLIENT_ID="your-paypal-client-id"
PAYPAL_CLIENT_SECRET="your-paypal-client-secret"
PAYPAL_MODE="sandbox" # sandbox or live
PAYPAL_RETURN_URL="http://localhost:5173/payment/paypal/return"
PAYPAL_CANCEL_URL="http://localhost:5173/payment/paypal/cancel"

# Stripe (International)
STRIPE_PUBLIC_KEY="pk_test_your-stripe-public-key"
STRIPE_SECRET_KEY="sk_test_your-stripe-secret-key"
STRIPE_WEBHOOK_SECRET="whsec_your-webhook-secret"

# ============================================================================
# VIDEO HOSTING
# ============================================================================
# Vimeo
VIMEO_ACCESS_TOKEN="your-vimeo-access-token"
VIMEO_CLIENT_ID="your-vimeo-client-id"
VIMEO_CLIENT_SECRET="your-vimeo-client-secret"

# YouTube API
YOUTUBE_API_KEY="your-youtube-api-key"

# Cloudflare Stream
CLOUDFLARE_ACCOUNT_ID="your-cloudflare-account-id"
CLOUDFLARE_STREAM_TOKEN="your-cloudflare-stream-token"

# ============================================================================
# REDIS (Caching & Queue)
# ============================================================================
REDIS_HOST="localhost"
REDIS_PORT=6379
REDIS_PASSWORD=""
REDIS_DB=0
REDIS_URL="redis://localhost:6379"

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_WINDOW_MS=900000 # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100

# ============================================================================
# CORS SETTINGS
# ============================================================================
CORS_ORIGIN="http://localhost:5173,http://localhost:3000"
CORS_CREDENTIALS=true

# ============================================================================
# CODE EXECUTION (for Practice/Coding Challenges)
# ============================================================================
# Judge0 API (for code execution)
JUDGE0_API_URL="https://judge0-ce.p.rapidapi.com"
JUDGE0_API_KEY="your-rapidapi-key"
JUDGE0_HOST="judge0-ce.p.rapidapi.com"

# Alternative: Self-hosted code execution service
CODE_EXECUTOR_URL="http://localhost:8080"
CODE_EXECUTOR_TIMEOUT=10000 # 10 seconds

# ============================================================================
# ANALYTICS & MONITORING
# ============================================================================
# Google Analytics
GOOGLE_ANALYTICS_ID="G-XXXXXXXXXX"

# Sentry (Error tracking)
SENTRY_DSN="your-sentry-dsn"
SENTRY_ENVIRONMENT="development"

# LogRocket
LOGROCKET_APP_ID="your-logrocket-app-id"

# ============================================================================
# CDN & ASSETS
# ============================================================================
CDN_URL="https://cdn.yourdomain.com"
PUBLIC_ASSETS_URL="http://localhost:5173/assets"

# ============================================================================
# SEARCH (ElasticSearch or Algolia)
# ============================================================================
# Elasticsearch
ELASTICSEARCH_NODE="http://localhost:9200"
ELASTICSEARCH_USERNAME="elastic"
ELASTICSEARCH_PASSWORD="your-password"

# Algolia
ALGOLIA_APP_ID="your-algolia-app-id"
ALGOLIA_API_KEY="your-algolia-api-key"
ALGOLIA_SEARCH_KEY="your-algolia-search-only-key"
ALGOLIA_INDEX_NAME="courses"

# ============================================================================
# PUSH NOTIFICATIONS
# ============================================================================
# Firebase Cloud Messaging
FIREBASE_PROJECT_ID="your-firebase-project-id"
FIREBASE_PRIVATE_KEY="your-firebase-private-key"
FIREBASE_CLIENT_EMAIL="your-firebase-client-email"
FIREBASE_SERVER_KEY="your-firebase-server-key"

# OneSignal
ONESIGNAL_APP_ID="your-onesignal-app-id"
ONESIGNAL_API_KEY="your-onesignal-api-key"

# ============================================================================
# CERTIFICATE GENERATION
# ============================================================================
CERTIFICATE_TEMPLATE_PATH="./templates/certificate.html"
CERTIFICATE_OUTPUT_PATH="./certificates"
CERTIFICATE_BASE_URL="http://localhost:5173/verify-certificate"

# ============================================================================
# WEBSOCKET (Socket.IO for real-time features)
# ============================================================================
SOCKET_PORT=3001
SOCKET_CORS_ORIGIN="http://localhost:5173"

# ============================================================================
# CRON JOBS & BACKGROUND TASKS
# ============================================================================
ENABLE_CRON_JOBS=true
CRON_CLEANUP_INTERVAL="0 2 * * *" # Daily at 2 AM
CRON_CERTIFICATE_GENERATION="0 0 * * 0" # Weekly on Sunday

# ============================================================================
# DEVELOPMENT TOOLS
# ============================================================================
# Prisma Studio
PRISMA_STUDIO_PORT=5555

# Debug mode
DEBUG=false
LOG_LEVEL="debug" # error, warn, info, debug

# Mock data seeding
SEED_DATABASE=false
SEED_ADMIN_EMAIL="admin@lms.com"
SEED_ADMIN_PASSWORD="Admin@123"

# ============================================================================
# FEATURE FLAGS
# ============================================================================
ENABLE_REGISTRATION=true
ENABLE_OAUTH=true
ENABLE_PRACTICE_SUBMISSIONS=true
ENABLE_CHAT=true
ENABLE_CERTIFICATES=true
ENABLE_PAYMENTS=true
ENABLE_COUPONS=true
ENABLE_REVIEWS=true
ENABLE_NOTIFICATIONS=true

# ============================================================================
# SECURITY HEADERS
# ============================================================================
HELMET_ENABLED=true
CSP_ENABLED=false # Content Security Policy

# ============================================================================
# ADMIN SETTINGS
# ============================================================================
ADMIN_DEFAULT_PASSWORD="Admin@123"
ADMIN_PANEL_PATH="/admin"
REQUIRE_EMAIL_VERIFICATION=false

# ============================================================================
# COURSE SETTINGS
# ============================================================================
DEFAULT_CURRENCY="VND"
MIN_COURSE_PRICE=0
MAX_COURSE_PRICE=10000000
COURSE_APPROVAL_REQUIRED=false

# ============================================================================
# QUIZ & PRACTICE SETTINGS
# ============================================================================
DEFAULT_QUIZ_DURATION=30 # minutes
DEFAULT_QUIZ_PASSING_SCORE=70 # percentage
MAX_QUIZ_ATTEMPTS=3
PRACTICE_TIMEOUT=30000 # 30 seconds

# ============================================================================
# COMMENTS & MODERATION
# ============================================================================
AUTO_APPROVE_COMMENTS=true
ENABLE_COMMENT_MODERATION=false
MAX_COMMENT_LENGTH=1000
